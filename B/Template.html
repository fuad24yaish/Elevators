<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Tender Specification Template Management</title>
<style>
    body { font-family: Arial, sans-serif; background: #f7f9fc; margin: 20px; color: #333; }
    h1 { text-align: center; color: #005b96; }
    .instructions { background: #eef6fb; border-left: 5px solid #005b96; padding: 15px; margin: 20px auto; max-width: 650px; border-radius: 5px; }
    .category { font-weight: bold; font-size: 18px; margin-top: 20px; }
    ul { list-style: none; padding-left: 20px; }
    li { padding: 5px; background: white; margin: 4px 0; border-radius: 5px; display: flex; justify-content: space-between; align-items: center; }
    .remove-btn { background: red; color: white; border: none; border-radius: 3px; cursor: pointer; font-size: 12px; padding: 2px 6px; }
    .add-input { margin-top: 5px; display: flex; }
    .add-input input { flex: 1; padding: 5px; }
    .add-input button { margin-left: 5px; padding: 5px 10px; background: #005b96; color: white; border: none; cursor: pointer; border-radius: 3px; }
    .controls { margin-top: 20px; text-align: center; }
    button { padding: 8px 15px; margin: 5px; cursor: pointer; border-radius: 4px; border: none; }
    .save-btn { background: #4CAF50; color: white; }
    .reset-btn { background: #f44336; color: white; }
	
	.instruction-row {
		display: flex;
		align-items: center;
		margin: 5px 0;
	}
	.instruction-row .icon {
		width: 30px;
		text-align: center;
	}
	.instruction-row .action {
		width: 120px;
	}
	.instruction-row .desc {
		flex: 1;
	}

</style>
</head>
<body>

<h1>üìã  Specification Template Management</h1>

<div class="instructions">
    Use this page to review, edit, and manage the default list of elevator specifications used in tender evaluations.

    <div class="instruction-row">
        <span class="icon">‚úèÔ∏è</span>
        <span class="action"><b>Edit</b></span>
        <span class="desc">any item by clicking directly on it and typing your changes.</span>
    </div>

    <div class="instruction-row">
        <span class="icon">‚ûï</span>
        <span class="action"><b>Add</b></span>
        <span class="desc">a new specification under any category using the "Add new specification" field.</span>
    </div>

    <div class="instruction-row">
        <span class="icon">üóëÔ∏è</span>
        <span class="action"><b>Remove</b></span>
        <span class="desc">a specification by clicking the red <b>Remove</b> button next to it.</span>
    </div>
</div>


<div id="specs-container"></div>

<div class="controls">
    <button class="save-btn" onclick="saveSpecs()">üíæ Save Changes</button>
    <button class="reset-btn" onclick="resetToDefault()">üîÑ Reset to Default</button>
</div>

<script>
const defaultSpecs = {
    "General Information": [
        "Vendor Name",
        "Model",
        "Country of Manufacture",
        "Standards Compliance (EN, ISO, etc.)",
        "Warranty Period (Years)"
    ],
    "Performance Specifications": [
        "Load Capacity (kg)",
        "Speed (m/s)",
        "Travel Height (m)",
        "Number of Stops",
        "Drive Type (Gearless, Geared, Hydraulic)"
    ],
    "Car & Door Dimensions": [
        "Car Inside Width (mm)",
        "Car Inside Depth (mm)",
        "Car Inside Height (mm)",
        "Door Opening Width (mm)",
        "Door Opening Height (mm)",
        "Door Type (Center Opening, Side Opening)"
    ],
    "Signalization": [
        "Car Operating Panel Type",
        "Landing Operating Panel Type",
        "Voice Announcements",
        "Braille Buttons",
        "Digital Display Type (LED/LCD)",
        "Position Indicators (Car & Landing)"
    ],
    "Hoisting Equipment": [
        "Motor Type",
        "Motor Power (kW)",
        "Roping Type (1:1, 2:1)",
        "Counterweight Type",
        "Suspension Rope Type"
    ],
    "Safety Equipment": [
        "Overload Protection",
        "Emergency Alarm",
        "Emergency Light",
        "Automatic Rescue Device (ARD)",
        "Door Safety Edge/Light Curtain",
        "Governor and Safety Gear Type",
        "Fire Emergency Return"
    ],
    "Mechanical Components": [
        "Guide Rail Type",
        "Buffer Type (Oil, Polyurethane)",
        "Machine Room Requirement (MR/MRL)",
        "Ventilation System",
        "Noise Level (dB)"
    ],
    "Energy & Environmental": [
        "Energy Efficiency Class",
        "Regenerative Drive",
        "LED Lighting in Car",
        "Standby Mode Power Consumption (W)"
    ]
};

function getSpecs() {
    return JSON.parse(localStorage.getItem("specs")) || defaultSpecs;
}

function saveSpecs() {
    const updatedSpecs = {};
    document.querySelectorAll(".category-section").forEach(section => {
        const category = section.dataset.category;
        updatedSpecs[category] = [];
        section.querySelectorAll("ul li span").forEach(item => {
            updatedSpecs[category].push(item.innerText);
        });
    });
    localStorage.setItem("specs", JSON.stringify(updatedSpecs));
    alert("‚úÖ Specifications saved!");
    window.location.href = "Upload.html"; // Redirect to Upload.html
}

function resetToDefault() {
    if (confirm("Reset all specifications to default?")) {
        localStorage.removeItem("specs");
        renderSpecs();
    }
}

function removeSpec(category, index) {
    const specs = getSpecs();
    specs[category].splice(index, 1);
    localStorage.setItem("specs", JSON.stringify(specs));
    renderSpecs();
}

function addSpec(category) {
    const input = document.getElementById(`add-${category}`);
    const value = input.value.trim();
    if (value) {
        const specs = getSpecs();
        specs[category].push(value);
        localStorage.setItem("specs", JSON.stringify(specs));
        input.value = "";
        renderSpecs();
    }
}

function renderSpecs() {
    const specs = getSpecs();
    const container = document.getElementById("specs-container");
    container.innerHTML = "";
    for (const category in specs) {
        const section = document.createElement("div");
        section.className = "category-section";
        section.dataset.category = category;
        section.innerHTML = `<div class="category">${category}</div>`;
        const list = document.createElement("ul");
        specs[category].forEach((spec, i) => {
            const li = document.createElement("li");
            li.innerHTML = `<span contenteditable="true">${spec}</span> <button class="remove-btn" onclick="removeSpec('${category}', ${i})">Remove</button>`;
            list.appendChild(li);
        });
        section.appendChild(list);
        section.innerHTML += `
            <div class="add-input">
                <input id="add-${category}" placeholder="Add new specification...">
                <button onclick="addSpec('${category}')">Add</button>
            </div>
        `;
        container.appendChild(section);
    }
}

renderSpecs();
</script>

</body>
</html>
